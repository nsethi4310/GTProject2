<!DOCTYPE html>
<html lang="en">
<head>

  <a href="http://127.0.0.1:5000/">Home</a>|
    <a href="http://127.0.0.1:5000/about">ABOUT</a>|
    <a href="http://127.0.0.1:5000/bar">Bar_Graph</a>|
    <a href="http://127.0.0.1:5000/scatter">Scatter_Graph</a>|
    <a href="http://127.0.0.1:5000/sunburst">Sunburst_Graph</a>|
    <a href="http://127.0.0.1:5000/sunburst2">Sunburst2_Graph</a>|
    <a href="http://127.0.0.1:5000/map">Map</a>|
    
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Leaflet Step-1</title>
  <!-- Leaflet CSS -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.6.0/dist/leaflet.css"
    integrity="sha512-xwE/Az9zrjBIphAcBb3F6JVqxf46+CDLwfLMHloNu6KEQCAWi6HcDUbeOfBIptF7tcCzusKFjFw2yuvEpDL9wQ=="
    crossorigin="" />
  <!-- Marker Cluster CSS -->
  <link rel="stylesheet" type="text/css" href="https://unpkg.com/leaflet.markercluster@1.0.3/dist/MarkerCluster.css">
  <link rel="stylesheet" type="text/css" href="https://unpkg.com/leaflet.markercluster@1.0.3/dist/MarkerCluster.Default.css">
  <!-- Our CSS -->
  <link rel="stylesheet" type="text/css" href="../static/style.css">
</head>
<body>
  <!-- The div that holds our map -->
  <div id="map"></div>
  <!-- Leaflet JS -->
  <script src="https://unpkg.com/leaflet@1.6.0/dist/leaflet.js"
    integrity="sha512-gZwIG9x3wUXg2hdXF6+rVkLF/0Vi9U8D2Ntg4Ga5I5BZpVkVxlJWbSQtXPSiUTtC0TjtGOmxa1AJPuV0CPthew=="
    crossorigin=""></script>
  <!-- D3 JavaScript -->
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/d3/4.2.3/d3.min.js"></script>
  <!-- Marker Cluster JS -->
  <script type="text/javascript" src="https://unpkg.com/leaflet.markercluster@1.0.3/dist/leaflet.markercluster.js"></script>
  <!-- API key -->
  <script type="text/javascript" src="../static/config.js"></script>
  <!-- Data File -->
  <!-- <script type="text/javascript" src="static/js/Dataga.csv"></script> -->
  <!-- Our JavaScript -->
  <script type="text/javascript" src="../static/map.js"></script>
</body>
</html>
<!-- <script>
var myMap = L.map("map", {
  center: [32.17, -82.90],
  zoom: 7
});
// Add a tile layer
L.tileLayer("https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token={accessToken}", {
  attribution: "© <a href='https://www.mapbox.com/about/maps/'>Mapbox</a> © <a href='http://www.openstreetmap.org/copyright'>OpenStreetMap</a> <strong><a href='https://www.mapbox.com/map-feedback/' target='_blank'>Improve this map</a></strong>",
  tileSize: 512,
  maxZoom: 18,
  zoomOffset: -1,
  id: "mapbox/streets-v11",
  accessToken: API_KEY
}).addTo(myMap);
  var newtry = "https://raw.githubusercontent.com/openbrewerydb/openbrewerydb/master/breweries.json";
  // function getColor(i) {
  //   return i > 90 ? "#EA2C2C" :
  //     i > 70  ? "#EA822C" :
  //     i > 50  ? "#EE9C00" :
  //     i > 30  ? "#EECC00" :
  //     i > 10   ?  "#D4EE00" :
  //             "#98EE00";
  //   }
  // function filtermb(cbt) {
  //   return cbt.brewery_type ==="micro";
  // }
  d3.json(newtry, function(response){
    console.log(response[0].brewery_type);
    var mb= response.brewery_type;
    //console.log(mb);
    fmb = response.filter(x => x.brewery_type =='micro' && x.state == 'Georgia');
    console.log(fmb);
    // filteredata=response.filter(filtermb);
    // console.log(filteredata)
    for (var i = 0; i < fmb.length; i++) {
       var lat = fmb[i].latitude;
       var long = fmb[i].longitude;
       L.circle([lat, long], 
        {
          fillOpacity: 1,
          color: "blue",
          fillColor:"red",
          radius:10000
        }).bindPopup("<h3> Type of Brewery: " + fmb[i].brewery_type+"<h3> Name: " + fmb[i].name +
                "<h3>City: " +fmb[i].city + "<h3> url: " + fmb[i].website_url).addTo(myMap);
      }
      marker.bindPopup("fmb[i].website_url");
        marker.on('mouseover', function (e) {
            this.openPopup();
        });
        marker.on('mouseout', function (e) {
            this.closePopup();
        });
  });
</script> -->